<!DOCTYPE html>
<html>
<head>
    <title>Your Daily Message ğŸ’–</title>
    <style>
        body { background: #ffe6ee; font-family: 'Poppins'; text-align: center; padding: 20px; }
        .box { background: white; padding: 30px; border-radius: 20px; width: 80%; margin: auto; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
        .card { display: inline-block; padding: 20px; margin: 10px; background:#ffd6e7; border-radius: 15px; cursor: pointer; }
        button { padding: 10px 25px; border: none; background: hotpink; color: white; border-radius: 15px; cursor: pointer; }
        input, textarea { width: 80%; padding: 10px; border-radius: 10px; border: 1px solid pink; margin: 10px 0; }
    </style>
</head>
<body>

<div class="box">
    <h2>A little something for you âœ¨</h2>
    <p>{{ message }}</p>
</div>

<br>

<div class="box">
    <h2>Pick a card ğŸ’Œ</h2>
    <div class="card" data-msg="You make everything brighter.">Pick</div>
    <div class="card" data-msg="You're adorable.">Pick</div>
    <div class="card" data-msg="I love your smile.">Pick</div>
    <p id="cardOutput"></p>
</div>

<script>
document.querySelectorAll(".card").forEach(card => {
    card.onclick = () => {
        document.getElementById("cardOutput").textContent = card.getAttribute("data-msg");
    };
});
</script>

<br>

<div class="box">
    <h2>Love Meter ğŸ’—</h2>
    <input type="range" id="loveSlider" min="0" max="100" value="50">
    <p id="loveText">50% â€¢ Loved ğŸ˜Š</p>
</div>

<script>
const slide = document.getElementById("loveSlider");
const loveText = document.getElementById("loveText");

slide.addEventListener("input", () => {
    let v = slide.value;
    let mood = "Overflowing with love ğŸ˜";

    if (v < 20) mood = "Missing you ğŸ¥º";
    else if (v < 40) mood = "I need a hug ğŸ¤—";
    else if (v < 60) mood = "Feeling warm ğŸ¥°";
    else if (v < 80) mood = "Loved ğŸ˜Š";

    loveText.textContent = `${v}% â€¢ ${mood}`;

    fetch("/meter_update", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ value: v, mood: mood })
    });
});
</script>

<br>

<div class="box">
    <h2>Write a message back to me ğŸ’•</h2>

    <form id="msgForm">
        <input name="name" placeholder="Your name">
        <textarea name="message" placeholder="Write something sweet..." rows="4"></textarea>
        <button>Send ğŸ’Œ</button>
    </form>
</div>

<script>
document.getElementById("msgForm").addEventListener("submit", function(e){
    e.preventDefault();

    fetch("/send_message", {
        method: "POST",
        body: new FormData(this)
    }).then(() => {
        alert("Your message was sent â¤ï¸");
        this.reset();
    });
});
</script>

<br><br>

<a href="/game">
<button style="background: purple;">Play Cute Game ğŸ®</button>
</a>

</body>
</html>
