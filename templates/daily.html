{% extends "base.html" %}

{% block content %}
<div class="card">
  <h2>Dear Shahad ❤️</h2>
  <p>Your note for today:</p>

  <div id="msg" style="
    background:#fff;
    padding:18px;
    border-radius:14px;
    margin-top:10px;
    opacity:0;
    transform:translateY(8px);
    transition:.6s;">{{ message }}</div>

  <div style="margin-top:16px;">
    Next surprise in:
    <div id="countdown" style="font-weight:700;margin-top:4px;">--</div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
window.onload = () => {
  const m = document.getElementById("msg");
  setTimeout(()=>{m.style.opacity=1;m.style.transform="translateY(0)"},200);
};

function updateCountdown(){
  let now = new Date();
  let next = new Date(now.getFullYear(), now.getMonth(), now.getDate()+1);
  let diff = next - now;
  let s = Math.floor(diff/1000)%60;
  let m = Math.floor(diff/60000)%60;
  let h = Math.floor(diff/3600000);
  document.getElementById("countdown").textContent =
    `${String(h).padStart(2,'0')}h ${String(m).padStart(2,'0')}m ${String(s).padStart(2,'0')}s`;
}
setInterval(updateCountdown,1000);
updateCountdown();
</script>
{% endblock %}
